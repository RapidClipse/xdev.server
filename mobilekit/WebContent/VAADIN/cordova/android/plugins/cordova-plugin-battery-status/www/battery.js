cordova.define("cordova-plugin-battery-status.battery",function(e,t,n){function l(){return u.channels.batterystatus.numHandlers+u.channels.batterylow.numHandlers+u.channels.batterycritical.numHandlers}var r=e("cordova"),a=e("cordova/exec"),s=5,i=20,o=function(){this._level=null,this._isPlugged=null,this.channels={batterystatus:r.addWindowEventHandler("batterystatus"),batterylow:r.addWindowEventHandler("batterylow"),batterycritical:r.addWindowEventHandler("batterycritical")};for(var e in this.channels)this.channels[e].onHasSubscribersChange=o.onHasSubscribersChange};o.onHasSubscribersChange=function(){this.numHandlers===1&&l()===1?a(u._status,u._error,"Battery","start",[]):l()===0&&a(null,null,"Battery","stop",[])},o.prototype._status=function(e){if(e&&(u._level!==e.level||u._isPlugged!==e.isPlugged)){if(e.level==null&&u._level!=null)return;r.fireWindowEvent("batterystatus",e),e.isPlugged||(u._level>s&&s>=e.level?r.fireWindowEvent("batterycritical",e):u._level>i&&i>=e.level&&r.fireWindowEvent("batterylow",e)),u._level=e.level,u._isPlugged=e.isPlugged}},o.prototype._error=function(e){console.log("Error initializing Battery: "+e)};var u=new o;n.exports=u})