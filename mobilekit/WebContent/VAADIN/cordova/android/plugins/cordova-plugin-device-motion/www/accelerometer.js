cordova.define("cordova-plugin-device-motion.accelerometer",function(e,n,t){function r(){u(function(e){var n=d.slice(0);w=new f(e.x,e.y,e.z,e.timestamp);for(var t=0,r=n.length;r>t;t++)n[t].win(w)},function(e){for(var n=d.slice(0),t=0,r=n.length;r>t;t++)n[t].fail(e)},"Accelerometer","start",[]),s=!0}function c(){u(null,null,"Accelerometer","stop",[]),w=null,s=!1}function o(e,n){return{win:e,fail:n}}function i(e){var n=d.indexOf(e);n>-1&&(d.splice(n,1),d.length===0&&c())}var l=e("cordova/argscheck"),a=e("cordova/utils"),u=e("cordova/exec"),f=e("./Acceleration"),s=!1,v={},d=[],w=null,m=null,h={getCurrentAcceleration:function(e,n){if(l.checkArgs("fFO","accelerometer.getCurrentAcceleration",arguments),cordova.platformId==="windowsphone")return u(function(n){w=new f(n.x,n.y,n.z,n.timestamp),e(w)},function(e){n(e)},"Accelerometer","getCurrentAcceleration",[]),void 0;var t,c=function(n){i(t),e(n)},a=function(e){i(t),n&&n(e)};t=o(c,a),d.push(t),s||r()},watchAcceleration:function(e,n,t){l.checkArgs("fFO","accelerometer.watchAcceleration",arguments);var c=t&&t.frequency&&typeof t.frequency=="number"?t.frequency:1e4,u=a.createUUID(),f=o(function(){},function(e){i(f),n&&n(e)});if(d.push(f),v[u]={timer:window.setInterval(function(){w&&e(w)},c),listeners:f},s?w&&e(w):r(),cordova.platformId==="browser"&&!m){var h=new Event("devicemotion");m=window.setInterval(function(){window.dispatchEvent(h)},200)}return u},clearWatch:function(e){e&&v[e]&&(window.clearInterval(v[e].timer),i(v[e].listeners),delete v[e],m&&Object.keys(v).length===0&&(window.clearInterval(m),m=null))}};t.exports=h})